<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        function getComputerChoice() {
            let choice;
            let number = Math.floor(Math.random()*3);
            if(number === 1)
                choice = "rock";
             else if(number === 2)
                choice = "paper";
             else 
                choice = "scissors";
            return choice
        }

        function getHumanChoice() {
            let choice = prompt('Type "rock", "paper" or "scissors". What is your choice?');
            if(choice !== "rock" && choice !== "paper" && choice !== "scissors")
                return 0;
            else
                return choice;
        }

        function playRound(humanChoice, computerChoice){
            if(!humanChoice){
                console.log('Type only "rock", "paper" or "scissors"');
                return;
            } 

            if(humanChoice === computerChoice)
                console.log("Draw!");
            else if(humanChoice === "rock"){

                if(computerChoice === "paper"){
                    console.log('You lose! Paper beats Rock');
                    return 0;
                }
                else if(computerChoice === "scissors"){
                    console.log('You won! Rock beats Scissors');
                    return 1;
                }

            } else if(humanChoice === "paper"){

                if(computerChoice === "scissors"){
                    console.log('You lose! Scissors beats Paper');
                    return 0;
                }
                else if(computerChoice === "rock"){
                    console.log('You won! Paper beats Rock');
                    return 1;
                }
                    
            } else if(humanChoice === "scissors"){

                if(computerChoice === "rock"){
                    console.log('You lose! Rock beats Scissors');
                    return 0;
                }
                else if(computerChoice === "paper"){
                    console.log('You won! Scissors beats Paper');
                    return 1;
                }

            }
        }

        function playGame() {
            let humanScore = 0;
            let computerScore = 0;
            let result;

            for(let i = 0; i < 5; i++){
                result = playRound(getHumanChoice(), getComputerChoice());

                if(result !== undefined){
                    result === 1 ? humanScore += 1 : computerScore += 1;
                }
            }
            
            humanScore > computerScore ? console.log("You won the game!") : console.log("Game Over!");
            console.log(`Your score: ${humanScore} \nOpponent score: ${computerScore}`);
            
        }

        playGame();

    </script>
</body>
</html>